{"version":3,"file":"static/js/544.4247f2a6.chunk.js","mappings":"wQAuCA,EAnCa,WACX,IAAQA,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAAgCE,EAAAA,EAAAA,UAAS,IAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KACMC,GAAWC,EAAAA,EAAAA,IAAY,OAAQN,GAarC,OAXAO,EAAAA,EAAAA,YAAU,WAAM,wCACd,8GAEuBC,EAAAA,EAAAA,IAAeH,GAAUI,MAAK,SAAAC,GAAC,OAAIA,EAAEC,KAAKC,IAAX,IAFtD,OAEUA,EAFV,OAGIR,GAAY,OAAIQ,IAHpB,wGADc,uBAAC,WAAD,wBAQdC,EACD,GAAE,CAACR,KAGF,wBACGF,GACCA,EAASW,KAAI,SAAAC,GACX,OACE,2BACE,wBAAKA,EAAMC,QACX,gBACEC,IAAG,8CAAyCF,EAAMG,cAClDC,IAAKJ,EAAMC,KACXI,MAAM,YALDL,EAAMM,GASlB,KAGR,C,+IC7BDC,EAAAA,EAAAA,SAAAA,QAAyB,+BAEzB,IAAMhB,EAAc,SAACiB,EAAMvB,GACzB,OAAQuB,GACN,IAAK,WACH,MAAO,sBACT,IAAK,YACH,MAAM,UAAN,OAAiBvB,GACnB,IAAK,OACH,MAAM,UAAN,OAAiBA,EAAjB,YACF,IAAK,UACH,MAAM,UAAN,OAAiBA,EAAjB,YACF,IAAK,cACH,MAAM,gBACR,QACEwB,QAAQC,IAAI,WAEjB,EAEKjB,EAAc,mCAAG,WAAOH,GAAP,4FAAiBqB,EAAjB,+BAAyB,GACxCC,EAAWL,EAAAA,EAAAA,IAAA,UAAajB,GAAY,CACxCuB,OAAQ,CACNC,QAAS,mCACTC,SAAU,QACVJ,MAAOA,EACPK,KAAM,KANW,kBAWdJ,GAXc,2CAAH,sDAcdK,EAAW,mCAAG,WAAMN,GAAN,8EACZC,EAAWL,EAAAA,EAAAA,IAAA,sEACgDI,EADhD,+CADC,kBAIXC,GAJW,2CAAH,qD","sources":["components/Cast/Cast.jsx","services/moviedb-api.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getEndPoint, fetchMovieData } from 'services/moviedb-api';\n\nconst Cast = () => {\n  const { movieId } = useParams();\n  const [castList, setCastList] = useState([]);\n  const endPoint = getEndPoint('cast', movieId);\n\n  useEffect(() => {\n    async function getCast() {\n      try {\n        const cast = await fetchMovieData(endPoint).then(r => r.data.cast);\n        setCastList([...cast]);\n      } catch (error) {}\n    }\n\n    getCast();\n  }, [endPoint]);\n\n  return (\n    <ul>\n      {castList &&\n        castList.map(actor => {\n          return (\n            <li key={actor.id}>\n              <h2>{actor.name}</h2>\n              <img\n                src={`https://image.tmdb.org/t/p/original/${actor.profile_path}`}\n                alt={actor.name}\n                width=\"200px\"\n              />\n            </li>\n          );\n        })}\n    </ul>\n  );\n};\n\nexport default Cast;\n\n/// Зробити аборт контролер в useEffect\n/// Зробити сторінку помилки, якщо ввели неправильний url\n","import axios from 'axios';\n\n// `https://api.themoviedb.org/3/movie/id?api_key=key`; ok\n// `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${API_KEY}` ok\n// `https://api.themoviedb.org/3/search/movie?api_key=key&language=en-US&query=movie&page=1`ok\n// `https://api.themoviedb.org/3/trending/movie/day?api_key=key`;\n// https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst getEndPoint = (path, movieId) => {\n  switch (path) {\n    case 'trending':\n      return '/trending/movie/day';\n    case 'movieInfo':\n      return `/movie/${movieId}`;\n    case 'cast':\n      return `/movie/${movieId}/credits`;\n    case 'reviews':\n      return `/movie/${movieId}/reviews`;\n    case 'searchMovie':\n      return `/search/movie`;\n    default:\n      console.log('default');\n  }\n};\n\nconst fetchMovieData = async (endPoint, query = '') => {\n  const response = axios.get(`${endPoint}`, {\n    params: {\n      api_key: '326ecd742c922271411e34618fb1e345',\n      language: 'en-US',\n      query: query,\n      page: 1,\n      //   include_adult: false,\n    },\n  });\n\n  return response;\n};\n\nconst fetchSearch = async query => {\n  const response = axios.get(\n    `search/movie?api_key=326ecd742c922271411e34618fb1e345&query=${query}&language=en-US&page=1&include_adult=false`\n  );\n  return response;\n};\n\nexport { getEndPoint, fetchMovieData, fetchSearch };\n"],"names":["movieId","useParams","useState","castList","setCastList","endPoint","getEndPoint","useEffect","fetchMovieData","then","r","data","cast","getCast","map","actor","name","src","profile_path","alt","width","id","axios","path","console","log","query","response","params","api_key","language","page","fetchSearch"],"sourceRoot":""}