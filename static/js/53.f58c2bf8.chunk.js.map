{"version":3,"file":"static/js/53.f58c2bf8.chunk.js","mappings":"wOAqEA,UAjEqB,WAAO,IAAD,EACnBA,GAAWC,EAAAA,EAAAA,MACjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAkCC,EAAAA,EAAAA,UAAS,IAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAAkCF,EAAAA,EAAAA,UAAS,IAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACMC,EAAU,UAAGP,EAAaQ,IAAI,gBAApB,QAAgC,GAC1CC,GAAWC,EAAAA,EAAAA,GAAY,eA4B7B,OAhBAC,EAAAA,EAAAA,YAAU,WAAM,wCACd,8GAEwBC,EAAAA,EAAAA,GAAeH,EAAUF,GAAYM,MACvD,SAAAC,GAAC,OAAIA,EAAEC,KAAKC,OAAX,IAHP,OAEUC,EAFV,OAKIX,GAAa,OAAIW,IACjBC,QAAQC,IAAIF,GANhB,0GADc,sBAWVV,GAXW,WAAD,wBAYZa,EAEH,GAAE,CAACX,EAAUF,KAGZ,iCACE,kBAAMc,SAxBW,SAAAC,GACnBA,EAAIC,iBAEJtB,EAA8B,KAAdE,EAAmB,CAAC,EAAI,CAAEqB,MAAOrB,GAClD,EAoBG,WACE,kBACEsB,KAAK,OAELC,KAAK,QACLC,MAAOxB,EACPyB,SAlCkB,SAAAN,GACxBlB,EAAakB,EAAIO,cAAcF,MAChC,KAkCK,mBAAQF,KAAK,SAAb,uBAEDlB,IACC,wBACGF,EACEyB,QAAO,SAAAb,GAAK,MAAgC,OAA5BA,EAAMc,iBAAV,IACZC,KAAI,SAAAf,GACH,OACE,yBACE,SAAC,KAAD,CAAMgB,GAAE,kBAAahB,EAAMiB,IAAMC,MAAO,CAAEC,KAAMvC,GAAhD,UACE,wBAAKoB,EAAMoB,oBAFNpB,EAAMiB,GAMlB,QAKZ,C,qHCjEKxB,EAAc,SAAC4B,EAAMC,GACzB,OAAQD,GACN,IAAK,WACH,MAAO,sBACT,IAAK,YACH,MAAM,UAAN,OAAiBC,GACnB,IAAK,OACH,MAAM,UAAN,OAAiBA,EAAjB,YACF,IAAK,UACH,MAAM,UAAN,OAAiBA,EAAjB,YACF,IAAK,cACH,MAAM,gBACR,QACErB,QAAQC,IAAI,WAEjB,EAEKP,EAAc,mCAAG,WAAOH,GAAP,4FAAiBe,EAAjB,+BAAyB,GACxCgB,EAAWC,EAAAA,EAAAA,IAAA,UAAahC,GAAY,CACxCiC,OAAQ,CACNC,QAAS,mCACTC,SAAU,QACVpB,MAAOA,EACPqB,KAAM,EACNC,eAAe,KAPE,kBAWdN,GAXc,2CAAH,qD","sources":["pages/SearchMovies.js","services/moviedb-api.js"],"sourcesContent":["import { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { getEndPoint, fetchMovieData } from 'services/moviedb-api';\n\nconst SearchMovies = () => {\n  const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movieName, setMovieName] = useState('');\n  const [movieList, setMovieList] = useState([]);\n  const movieQuery = searchParams.get('query') ?? '';\n  const endPoint = getEndPoint('searchMovie');\n\n  const handleInputChange = evt => {\n    setMovieName(evt.currentTarget.value);\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n\n    setSearchParams(movieName === '' ? {} : { query: movieName });\n  };\n\n  useEffect(() => {\n    async function searchMovieByQuery() {\n      try {\n        const movie = await fetchMovieData(endPoint, movieQuery).then(\n          r => r.data.results\n        );\n        setMovieList([...movie]);\n        console.log(movie);\n      } catch (error) {}\n    }\n\n    if (movieQuery) {\n      searchMovieByQuery();\n    }\n  }, [endPoint, movieQuery]);\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          //   pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          name=\"movie\"\n          value={movieName}\n          onChange={handleInputChange}\n        ></input>\n        <button type=\"submit\">Search</button>\n      </form>\n      {movieQuery && (\n        <ul>\n          {movieList\n            .filter(movie => movie.original_language === 'en')\n            .map(movie => {\n              return (\n                <li key={movie.id}>\n                  <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n                    <h2>{movie.original_title}</h2>\n                  </Link>\n                </li>\n              );\n            })}\n        </ul>\n      )}\n    </>\n  );\n};\n\nexport default SearchMovies;\n","import axios from 'axios';\n\nconst getEndPoint = (path, movieId) => {\n  switch (path) {\n    case 'trending':\n      return '/trending/movie/day';\n    case 'movieInfo':\n      return `/movie/${movieId}`;\n    case 'cast':\n      return `/movie/${movieId}/credits`;\n    case 'reviews':\n      return `/movie/${movieId}/reviews`;\n    case 'searchMovie':\n      return `/search/movie`;\n    default:\n      console.log('default');\n  }\n};\n\nconst fetchMovieData = async (endPoint, query = '') => {\n  const response = axios.get(`${endPoint}`, {\n    params: {\n      api_key: '326ecd742c922271411e34618fb1e345',\n      language: 'en-US',\n      query: query,\n      page: 1,\n      include_adult: false,\n    },\n  });\n\n  return response;\n};\n\nexport { getEndPoint, fetchMovieData };\n"],"names":["location","useLocation","useSearchParams","searchParams","setSearchParams","useState","movieName","setMovieName","movieList","setMovieList","movieQuery","get","endPoint","getEndPoint","useEffect","fetchMovieData","then","r","data","results","movie","console","log","searchMovieByQuery","onSubmit","evt","preventDefault","query","type","name","value","onChange","currentTarget","filter","original_language","map","to","id","state","from","original_title","path","movieId","response","axios","params","api_key","language","page","include_adult"],"sourceRoot":""}